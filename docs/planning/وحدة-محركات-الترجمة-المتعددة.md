> # وحدة محركات الترجمة المتعددة (Multi-Translation Engine Module)

## 1. الوصف العام
تتولى هذه الوحدة إدارة وتنسيق العمل بين محركات الترجمة الآلية المختلفة (Google, DeepL, Microsoft, إلخ) لتقديم أفضل نتيجة ترجمة ممكنة، مع إتاحة خيار التبديل بينها للمستخدم.

## 2. المكونات الرئيسية

| المكون | الوظيفة | التقنية المقترحة |
| :--- | :--- | :--- |
| **واجهة برمجة التطبيقات الموحدة (Unified API)** | توفير واجهة TypeScript موحدة لجميع محركات الترجمة، بغض النظر عن اختلاف واجهات API الخاصة بها. | TypeScript Interface / Adapter Pattern |
| **مدير محركات الترجمة (Engine Manager)** | مسؤول عن إضافة، إزالة، وتكوين (Configuration) محركات الترجمة المتاحة، وإدارة مفاتيح API الخاصة بها بأمان. | Service Class (TypeScript) |
| **وحدة اختيار المحرك الذكي (Smart Engine Selector)** | يختار المحرك الأفضل للترجمة بناءً على معايير محددة (اللغة المصدر والهدف، التكلفة، السرعة، الدقة). | Strategy Pattern / Decision Logic |
| **وحدة التخزين المؤقت (Caching)** | تخزين الترجمات التي تم إجراؤها مؤخرًا لتقليل زمن الاستجابة وتوفير التكاليف. | IndexedDB / Local Storage |

## 3. آلية العمل الذكية
تعتمد الوحدة على استراتيجية متقدمة لاختيار المحرك:

1.  **التحقق من التخزين المؤقت**: البحث أولاً في التخزين المؤقت.
2.  **اختيار الخبير**: إذا كان السياق يتطلب خبيرًا (من الوحدة السابقة)، يتم تطبيق توجيهات الخبير على المحرك المختار (عادةً المحرك الذي يسمح بتخصيص البرومبت).
3.  **المفاضلة**: إذا لم يكن هناك خبير، يتم المفاضلة بين المحركات المتاحة بناءً على:
    *   **الأولوية المحددة من المستخدم.**
    *   **أداء المحرك** (السرعة والدقة) للزوج اللغوي المطلوب.
    *   **التكلفة** (لتوفير نقاط API).

## 4. المخرجات المتوقعة
*   واجهة API موحدة للترجمة تسهل إضافة محركات جديدة.
*   تقليل تكاليف API بنسبة 20% بفضل التخزين المؤقت والاختيار الذكي.

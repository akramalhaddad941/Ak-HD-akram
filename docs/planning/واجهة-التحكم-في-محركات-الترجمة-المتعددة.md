# واجهة التحكم في محركات الترجمة المتعددة (Multi-Engine Control Interface)

تتيح واجهة التحكم في محركات الترجمة المتعددة للمستخدمين توجيه `نظام محركات الترجمة المتعددة` لتحديد كيفية استخدام محركات الترجمة المتاحة، مما يسمح بتحقيق التوازن المطلوب بين الجودة، السرعة، والتكلفة.

## الميزات الرئيسية

1.  **اختيار استراتيجية الترجمة**:
    *   **الأولوية للجودة (Quality First)**: يوجه `وحدة اختيار المحرك الذكي.md` لتفضيل المحركات ذات الأداء التاريخي الأعلى، حتى لو كانت أكثر تكلفة أو أبطأ.
    *   **الأولوية للسرعة (Speed First)**: يوجه الوحدة لتفضيل المحركات ذات وقت الاستجابة الأقل.
    *   **الأولوية للتكلفة (Cost First)**: يوجه الوحدة لتفضيل المحركات الأقل تكلفة.
    *   **الترجمة الهجينة (Hybrid Translation)**: خيار لاستخدام عدة محركات ومقارنة مخرجاتها، أو استخدام محرك ثانوي لمراجعة مخرجات المحرك الأساسي.

2.  **تحديد المحركات المفضلة/المستبعدة**:
    *   قائمة تسمح للمستخدم بتحديد محركات ترجمة معينة يفضل استخدامها أو محركات يريد استبعادها من العملية.
    *   **مثال**: استبعاد Google Translate وتفضيل DeepL.

3.  **تحديد عتبة الجودة (Quality Threshold)**:
    *   السماح للمستخدم بتحديد الحد الأدنى المقبول لجودة الترجمة (بناءً على مقاييس مثل BLEU Score أو تقييمات داخلية). إذا كان المحرك المختار لا يلبي هذه العتبة، يتم استخدام محرك احتياطي (Fallback).

4.  **عرض معلومات المحركات**:
    *   عرض حالة وتكاليف وأداء المحركات المتاحة (مستمدة من `مدير-محركات-الترجمة.md`).

## التنفيذ التقني (مثال)

```typescript
// src/components/MultiEngineControl.tsx (React/Frontend Example)
import React, { useState } from 'react';
import { EngineControlConfiguration } from '../interfaces/configuration';

const MultiEngineControl: React.FC = () => {
  const [config, setConfig] = useState<EngineControlConfiguration>({
    strategy: 'quality_first',
    preferredEngines: ['DeepL', 'MedicalExpert'],
    excludedEngines: ['BingTranslate'],
    qualityThreshold: 0.85, // Example: 85% internal quality score
  });

  const availableEngines = ['GoogleTranslate', 'DeepL', 'BingTranslate', 'MedicalExpert', 'LegalExpert'];

  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {
    const { name, value } = e.target;
    setConfig(prev => ({
      ...prev,
      [name]: value,
    }));
  };

  const handleMultiSelectChange = (e: React.ChangeEvent<HTMLSelectElement>) => {
    const { name, options } = e.target;
    const value = Array.from(options).filter(option => option.selected).map(option => option.value);
    setConfig(prev => ({
      ...prev,
      [name]: value,
    }));
  };

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    console.log('Multi-Engine Control Configuration Submitted:', config);
    // Call the backend service to save the configuration
  };

  return (
    <form onSubmit={handleSubmit}>
      <h3>التحكم في محركات الترجمة المتعددة</h3>

      <label htmlFor="strategy">استراتيجية الترجمة:</label>
      <select id="strategy" name="strategy" value={config.strategy} onChange={handleChange}>
        <option value="quality_first">الأولوية للجودة</option>
        <option value="speed_first">الأولوية للسرعة</option>
        <option value="cost_first">الأولوية للتكلفة</option>
        <option value="hybrid">الترجمة الهجينة</option>
      </select>

      <label htmlFor="preferredEngines">المحركات المفضلة (يمكن اختيار أكثر من واحد):</label>
      <select multiple id="preferredEngines" name="preferredEngines" value={config.preferredEngines} onChange={handleMultiSelectChange}>
        {availableEngines.map(engine => (
          <option key={engine} value={engine}>{engine}</option>
        ))}
      </select>

      <label htmlFor="qualityThreshold">الحد الأدنى المقبول للجودة (0.00 - 1.00):</label>
      <input type="number" id="qualityThreshold" name="qualityThreshold" value={config.qualityThreshold} onChange={handleChange} min="0.0" max="1.0" step="0.01" />

      <button type="submit">تطبيق إعدادات المحركات</button>
    </form>
  );
};

// Define the interface for configuration data
export interface EngineControlConfiguration {
  strategy: 'quality_first' | 'speed_first' | 'cost_first' | 'hybrid';
  preferredEngines: string[];
  excludedEngines: string[];
  qualityThreshold: number;
}
```

تضمن هذه الواجهة أن المستخدمين يمكنهم توجيه النظام لتحقيق أهدافهم المحددة (جودة، سرعة، تكلفة) من خلال الاستفادة المثلى من محركات الترجمة المتعددة المتاحة.

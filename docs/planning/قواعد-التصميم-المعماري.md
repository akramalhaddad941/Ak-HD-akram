> # قواعد التصميم المعماري (Architectural Design Principles)

## 1. الهدف
تحديد المبادئ الأساسية لتصميم هيكل المشروع لضمان قابلية التوسع، الصيانة، والمرونة، خاصة في التعامل مع الأنظمة المعقدة والمتعددة.

## 2. المبادئ المعمارية الأساسية

| المبدأ | الوصف | التطبيق في المشروع |
| :--- | :--- | :--- |
| **الاقتران المنخفض (Low Coupling)** | يجب أن يكون الاعتماد بين المكونات المختلفة ضئيلاً قدر الإمكان. | استخدام **واجهات** (Interfaces) بدلاً من الفئات الملموسة (Concrete Classes) عند التفاعل بين الوحدات (مثل وحدة اختيار المحرك الذكي وواجهة محركات الترجمة). |
| **التماسك العالي (High Cohesion)** | يجب أن تكون العناصر داخل الوحدة الواحدة مرتبطة وظيفيًا ببعضها البعض. | كل خدمة (Service) يجب أن تتعامل مع مسؤولية واحدة فقط (مثل `StorageService` مسؤول فقط عن التخزين). |
| **عزل الاهتمامات (Separation of Concerns)** | فصل أجزاء التطبيق التي تتعامل مع مهام مختلفة. | فصل منطق الواجهة (React) عن منطق الأعمال (Services) عن منطق الخلفية (Background Script). |
| **نمط المحول (Adapter Pattern)** | استخدام نمط المحول لتوحيد الواجهات المختلفة. | تطبيق هذا النمط في **واجهة برمجة التطبيقات الموحدة** للتعامل مع محركات الترجمة المختلفة. |
| **نمط الاستراتيجية (Strategy Pattern)** | تعريف عائلة من الخوارزميات، ووضع كل واحدة منها في فئة منفصلة، وجعلها قابلة للتبديل. | تطبيقه في **وحدة اختيار المحرك الذكي** حيث يتم التبديل بين استراتيجيات الاختيار (الأداء، التكلفة، الأولوية). |

## 3. الهيكل المعماري
يعتمد المشروع على هيكل **الخدمات المصغرة (Microservices-like)** داخل بيئة الإضافة:

*   **Content Script**: طبقة العرض والتفاعل مع DOM.
*   **Background Script**: طبقة الأعمال والتحكم في الحالة.
*   **Services**: طبقة الخدمات التي تتعامل مع المنطق المعقد (الترجمة، STT، الخبراء).

هذا الفصل يضمن أن أي تغيير في واجهة المستخدم لن يؤثر على منطق الأعمال الأساسي.

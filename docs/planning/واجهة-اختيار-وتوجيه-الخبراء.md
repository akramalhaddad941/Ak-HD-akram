# واجهة اختيار وتوجيه الخبراء (Expert Selection & Prompting Interface)

توفر واجهة اختيار وتوجيه الخبراء للمستخدمين القدرة على التحكم في `نظام إدارة الخبراء المتخصصين`، مما يمكنهم من اختيار الخبير الأنسب لعملية الترجمة وتوجيهه ببرومبتات مخصصة لضمان جودة ودقة الترجمة.

## الميزات الرئيسية

1.  **اختيار المجال والتخصص**:
    *   قائمة منسدلة هرمية تتيح للمستخدم اختيار المجال العام (طبي، قانوني، تقني) والتخصص الدقيق (مثل: جراحة، قانون الشركات).
    *   هذا الاختيار يحدد الخبير (نموذج الذكاء الاصطناعي المتخصص) الذي سيتم استخدامه في الترجمة.

2.  **تفضيل الاختيار التلقائي**:
    *   خيار للسماح للنظام بتطبيق `آلية اختيار الخبير التلقائي.md` بناءً على تحليل المحتوى.
    *   في هذه الحالة، يمكن للمستخدم مراجعة الخبير الذي اختاره النظام.

3.  **إدخال البرومبتات المخصصة**:
    *   مساحة نصية للمستخدم لإدخال تعليمات إضافية أو برومبتات مخصصة لتوجيه الخبير.
    *   **مثال**: "الرجاء استخدام نبرة رسمية، وتجنب استخدام المصطلحات العامية في الترجمة".
    *   يتم دمج هذا النص مع `نظام البرومبتات المتخصصة.md` الخاص بالخبير المختار.

4.  **عرض معلومات الخبير**:
    *   عرض موجز لملف الخبير المختار (مثل: المجال، التخصص، مستوى الأداء الحالي).

5.  **إدارة المصطلحات الخاصة بالمشروع**:
    *   خيار لإضافة مصطلحات خاصة بالمشروع أو العميل إلى `قاعدة معارف المصطلحات.md`، والتي سيتم استخدامها من قبل الخبير.

## التنفيذ التقني (مثال)

```typescript
// src/components/ExpertSelectionForm.tsx (React/Frontend Example)
import React, { useState } from 'react';
import { ExpertConfiguration } from '../interfaces/configuration';

const ExpertSelectionForm: React.FC = () => {
  const [config, setConfig] = useState<ExpertConfiguration>({
    domain: 'automatic',
    specialization: 'general',
    customPrompt: '',
    projectTerminology: '',
  });

  const domains = [
    { id: 'automatic', name: 'اختيار تلقائي' },
    { id: 'medical', name: 'المجال الطبي', specializations: ['general_medicine', 'surgery'] },
    { id: 'legal', name: 'المجال القانوني', specializations: ['general_law', 'corporate_law'] },
    // ... other domains from هيكل-الخبراء-والتصنيف.md
  ];

  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>) => {
    const { name, value } = e.target;
    setConfig(prev => ({
      ...prev,
      [name]: value,
    }));
  };

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    console.log('Expert Configuration Submitted:', config);
    // Call the backend service to save the configuration
  };

  const selectedDomain = domains.find(d => d.id === config.domain);

  return (
    <form onSubmit={handleSubmit}>
      <h3>اختيار وتوجيه الخبراء</h3>

      <label htmlFor="domain">المجال الرئيسي:</label>
      <select id="domain" name="domain" value={config.domain} onChange={handleChange}>
        {domains.map(d => (
          <option key={d.id} value={d.id}>{d.name}</option>
        ))}
      </select>

      {selectedDomain && selectedDomain.specializations && (
        <>
          <label htmlFor="specialization">التخصص الدقيق:</label>
          <select id="specialization" name="specialization" value={config.specialization} onChange={handleChange}>
            {selectedDomain.specializations.map(s => (
              <option key={s} value={s}>{s}</option>
            ))}
          </select>
        </>
      )}
      
      <label htmlFor="customPrompt">تعليمات/برومبتات مخصصة للخبير:</label>
      <textarea id="customPrompt" name="customPrompt" value={config.customPrompt} onChange={handleChange} rows={5} placeholder="مثال: يرجى التأكد من استخدام المصطلحات المعتمدة في وثائق الاتحاد الأوروبي."></textarea>

      <label htmlFor="projectTerminology">مصطلحات خاصة بالمشروع (لإضافتها مؤقتاً لقاعدة المعارف):</label>
      <textarea id="projectTerminology" name="projectTerminology" value={config.projectTerminology} onChange={handleChange} rows={3} placeholder="مثال: 'AI' = الذكاء الاصطناعي"></textarea>

      <button type="submit">تطبيق إعدادات الخبير</button>
    </form>
  );
};

// Define the interface for configuration data
export interface ExpertConfiguration {
  domain: string;
  specialization: string;
  customPrompt: string;
  projectTerminology: string;
}
```

تضمن هذه الواجهة أن المستخدمين يمكنهم الاستفادة القصوى من قوة التخصص التي يوفرها نظام إدارة الخبراء، مما يؤدي إلى ترجمات عالية الجودة ومخصصة للسياق.

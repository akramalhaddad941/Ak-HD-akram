# ูุธุงู ุฅุฏุงุฑุฉ ุงูุฅุนุฏุงุฏุงุช ูุงูุชูุถููุงุช

ููุนุฏ ูุธุงู ุฅุฏุงุฑุฉ ุงูุฅุนุฏุงุฏุงุช ูุงูุชูุถููุงุช ูููููุง ุญููููุง ูู ุฃุฏุงุฉ ุชุฑุฌูุฉ ุงูููุฏููุ ุญูุซ ูุชูุญ ูููุณุชุฎุฏููู ุชุฎุตูุต ุชุฌุฑุจุชูู ุจุดูู ูุงูู. ููุฏู ูุฐุง ุงููุธุงู ุฅูู ุชูููุฑ ูุงุฌูุฉ ุจุฏูููุฉ ูุฅุฏุงุฑุฉ ุฌููุน ุงูุฎูุงุฑุงุชุ ูุน ุถูุงู ุญูุธ ุงูุชูุถููุงุช ูุงุณุชุฑุฌุงุนูุง ุจุณูุงุณุฉ ุนุจุฑ ุงูุฌูุณุงุช.

## 1. ุฃูุฏุงู ุงููุธุงู:

*   ุชูููุฑ ูุงุฌูุฉ ุดุงููุฉ ูุณููุฉ ุงูุงุณุชุฎุฏุงู ูุฅุฏุงุฑุฉ ุฌููุน ุฅุนุฏุงุฏุงุช ุงูุฃุฏุงุฉ.
*   ุชูููู ุงููุณุชุฎุฏููู ูู ุชุฎุตูุต ุฎูุงุฑุงุช ุงูุชุฑุฌูุฉุ ุงูุนุฑุถุ ุงูุตูุชุ ูุบูุฑูุง.
*   ุญูุธ ูุงุณุชุฑุฌุงุน ุชูุถููุงุช ุงููุณุชุฎุฏู ุจุดูู ุฏุงุฆู.
*   ุฏุนู ุงูุฅุนุฏุงุฏุงุช ุงููุณุจูุฉ (Presets) ูุณูููุฉ ุงูุชุจุฏูู ุจูู ุงูุชููููุงุช ุงููุฎุชููุฉ.
*   ุถูุงู ุฎุตูุตูุฉ ูุฃูุงู ุจูุงูุงุช ุงูุฅุนุฏุงุฏุงุช.

## 2. ุงูููููุงุช ุงูุฑุฆูุณูุฉ:

### 2.1. ูุงุฌูุฉ ุงูุฅุนุฏุงุฏุงุช (Settings Interface):

*   **`SettingsPanel`:** ุงููููู ุงูุฑุฆูุณู ุงูุฐู ูุนุฑุถ ุฌููุน ุงูุฅุนุฏุงุฏุงุชุ ููุณููุง ุฅูู ุฃูุณุงู ููุทููุฉ ูุณูููุฉ ุงูุชุตูุญ. (ูุณุชุฎูุต ูู: `ุงูุณุงูุงูุฎูุงุฑุงุชูุงูุงุนุฏุงุฏุงุชุงูุดุงููุฉ_251006_010036.md`, `๐๏ธูุงุฆูุฉุงูุฅุนุฏุงุฏุงุชุงูุดุงููุฉ(1).md`)
*   **`SettingComponents`:** ูุฌููุนุฉ ูู ููููุงุช ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงููุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู (ูุซู ุฃุฒุฑุงุฑ ุงูุชุจุฏููุ ููุงุฆู ุงูุงุฎุชูุงุฑุ ุญููู ุงูุฅุฏุฎุงู) ููู ููุน ูู ุงูุฅุนุฏุงุฏุงุช. (ูุณุชุฎูุต ูู: `ุงูุณุงูุงูุฎูุงุฑุงุชูุงูุงุนุฏุงุฏุงุชุงูุดุงููุฉ_251006_010036.md`)
*   **`CategoryNavigator`:** ุดุฑูุท ุฌุงูุจู ุฃู ุนูุงูุงุช ุชุจููุจ ููุชููู ุจูู ูุฆุงุช ุงูุฅุนุฏุงุฏุงุช ุงููุฎุชููุฉ (ูุซู ุนุงูุ ุชุฑุฌูุฉุ ุนุฑุถุ ุตูุชุ ูุชูุฏู). (ูุณุชุฎูุต ูู: `ุงูุณุงูุงูุฎูุงุฑุงุชูุงูุงุนุฏุงุฏุงุชุงูุดุงููุฉ_251006_010036.md`)

### 2.2. ูุฏูุฑ ุงูุชูุถููุงุช (Preferences Manager):

*   **`UserPreferencesStore`:** ูุณุคูู ุนู ุชุฎุฒูู ูุงุณุชุฑุฌุงุน ุชูุถููุงุช ุงููุณุชุฎุฏู ูู ุงูุชุฎุฒูู ุงูุฏุงุฆู (ูุญูููุง ุฃู ุณุญุงุจููุง). (ูุณุชุฎูุต ูู: `ุงููุฑุญูุฉุงูุซุงููุฉุชุทููุฑุงูููุงุฉุงูุฃุณุงุณูุฉ..md` - ุถูู ุณูุงู ุฅุฏุงุฑุฉ ุงูุจูุงูุงุช)
*   **`DefaultSettings`:** ูููุฑ ูุฌููุนุฉ ูู ุงูุฅุนุฏุงุฏุงุช ุงูุงูุชุฑุงุถูุฉ ุงูุชู ูุชู ุชุทุจูููุง ุนูุฏ ุงูุงุณุชุฎุฏุงู ุงูุฃูู ุฃู ุนูุฏ ุฅุนุงุฏุฉ ุชุนููู ุงูุฅุนุฏุงุฏุงุช. (ูุณุชุฎูุต ูู: `ุงุนุฏุงุฏุงุชุงุถุงููุฉ.md`)
*   **`PresetManager`:** ูุณูุญ ูููุณุชุฎุฏููู ุจุญูุธ ูุฌููุนุงุช ูู ุงูุฅุนุฏุงุฏุงุช ูุฅุนุฏุงุฏุงุช ูุณุจูุฉ ูุงุจูุฉ ููุชุญููู. (ูุณุชุฎูุต ูู: `ุงูุณุงูุงูุฎูุงุฑุงุชูุงูุงุนุฏุงุฏุงุชุงูุดุงููุฉ_251006_010036.md`)

### 2.3. ุฃูุณุงู ุงูุฅุนุฏุงุฏุงุช ุงูุดุงููุฉ (Comprehensive Settings Sections):

*   **ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ:** ุงููุบุฉ ุงูุงูุชุฑุงุถูุฉุ ุฎูุงุฑุงุช ุงูุจุฏุกุ ุฅุดุนุงุฑุงุช. (ูุณุชุฎูุต ูู: `ุงูุณุงูุงูุฎูุงุฑุงุชูุงูุงุนุฏุงุฏุงุชุงูุดุงููุฉ_251006_010036.md`)
*   **ุฅุนุฏุงุฏุงุช ุงูุชุฑุฌูุฉ:** ูุญุฑู ุงูุชุฑุฌูุฉ ุงูููุถูุ ูุบุฉ ุงููุตุฏุฑ ูุงููุฏูุ ุฎูุงุฑุงุช ุงูุชุฑุฌูุฉ ุงูุณูุงููุฉุ ุงุณุชุฎุฏุงู ุฐุงูุฑุฉ ุงูุชุฑุฌูุฉ ูุงููุตุทูุญุงุช. (ูุณุชุฎูุต ูู: `ุงูุณุงูุงูุฎูุงุฑุงุชูุงูุงุนุฏุงุฏุงุชุงูุดุงููุฉ_251006_010036.md`, `ุงุนุฏุงุฏุงุชุงุถุงููุฉ.md`)
*   **ุฅุนุฏุงุฏุงุช ุงูุนุฑุถ:** ุญุฌู ุงูุฎุทุ ููู ุงูุฎุทุ ููู ุงูุฎูููุฉุ ููุถุน ุงูุชุฑุฌูุฉุ ุงูุดูุงููุฉุ ุนุฑุถ ุฃุณูุงุก ุงููุชุญุฏุซูู. (ูุณุชุฎูุต ูู: `ุงูุณุงูุงูุฎูุงุฑุงุชูุงูุงุนุฏุงุฏุงุชุงูุดุงููุฉ_251006_010036.md`, `ุงุนุฏุงุฏุงุชุงุถุงููุฉ.md`)
*   **ุฅุนุฏุงุฏุงุช ุงูุตูุช (STT/TTS):** ูุญุฑู STT ุงูููุถูุ ูุญุฑู TTS ุงูููุถูุ ุงุฎุชูุงุฑ ุงูุตูุช ูุงูููุฌุฉุ ุฎูุงุฑุงุช ุชูููู ุงูุถูุถุงุก. (ูุณุชุฎูุต ูู: `ุงูุณุงูุงูุฎูุงุฑุงุชูุงูุงุนุฏุงุฏุงุชุงูุดุงููุฉ_251006_010036.md`, `ุงุนุฏุงุฏุงุชุงุถุงููุฉ.md`)
*   **ุฅุนุฏุงุฏุงุช ูุชูุฏูุฉ:** ููุงุชูุญ APIุ ุฎูุงุฑุงุช ูุฒุงููุฉ ุงูุจูุงูุงุชุ ุฎูุงุฑุงุช ุชุตุฏูุฑ/ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช. (ูุณุชุฎูุต ูู: `ุงูุณุงูุงูุฎูุงุฑุงุชูุงูุงุนุฏุงุฏุงุชุงูุดุงููุฉ_251006_010036.md`, `ุงุนุฏุงุฏุงุชุงุถุงููุฉ.md`)

## 3. ุชุฏูู ุนูู ุฅุฏุงุฑุฉ ุงูุฅุนุฏุงุฏุงุช (Settings Management Workflow):

1.  **ุชุญููู ุงูุฅุนุฏุงุฏุงุช:** ุนูุฏ ุจุฏุก ุชุดุบูู ุงูุฃุฏุงุฉุ ูููู `UserPreferencesStore` ุจุชุญููู ุงูุฅุนุฏุงุฏุงุช ุงููุญููุธุฉ. (ูุณุชุฎูุต ูู: `ุงููุฑุญูุฉุงูุซุงููุฉุชุทููุฑุงูููุงุฉุงูุฃุณุงุณูุฉ..md`)
2.  **ุนุฑุถ ุงููุงุฌูุฉ:** ูุชู ุนุฑุถ `SettingsPanel` ูููุณุชุฎุฏูุ ูุน ุชุนุจุฆุฉ ุงูููููุงุช ุจููู ุงูุฅุนุฏุงุฏุงุช ุงูุญุงููุฉ. (ูุณุชุฎูุต ูู: `ุงููุฑุญูุฉุงูุซุงูุซุฉุชุทููุฑูุงุฌูุฉุงููุณุชุฎุฏู..md`)
3.  **ุชุนุฏูู ุงููุณุชุฎุฏู:** ูููู ุงููุณุชุฎุฏู ุจุชุนุฏูู ุงูุฅุนุฏุงุฏุงุช ูู ุฎูุงู `SettingComponents`. (ูุณุชุฎูุต ูู: `ุงููุฑุญูุฉุงูุซุงูุซุฉุชุทููุฑูุงุฌูุฉุงููุณุชุฎุฏู..md`)
4.  **ุญูุธ ุงูุฅุนุฏุงุฏุงุช:** ุนูุฏ ุชุฃููุฏ ุงููุณุชุฎุฏูุ ูููู `UserPreferencesStore` ุจุญูุธ ุงูุชุบููุฑุงุช ูู ุงูุชุฎุฒูู ุงูุฏุงุฆู. (ูุณุชุฎูุต ูู: `ุงููุฑุญูุฉุงูุซุงููุฉุชุทููุฑุงูููุงุฉุงูุฃุณุงุณูุฉ..md`)
5.  **ุชุทุจูู ุงูุชุบููุฑุงุช:** ูุชู ุฅุฑุณุงู ุฅุดุนุงุฑ ุฅูู ุงูููููุงุช ุงููุชุฃุซุฑุฉ ูุชุทุจูู ุงูุฅุนุฏุงุฏุงุช ุงูุฌุฏูุฏุฉ ูู ุงูููุช ุงููุนูู.

## 4. ุงูุชูููุฐ ุงูุชููู (Technical Implementation):

### ุงูุชุนุฑููุงุช ุงููุทููุจุฉ (Type Definitions):

*   ูุฌุจ ุฃู ุชุนุชูุฏ ุฌููุน ุงูููููุงุช ุนูู ุงูุชุนุฑููุงุช ุงูููุญุฏุฉ ุงูููุฌูุฏุฉ ูู `src/types/common.ts`.
*   ูู ุจุชูุณูุน ูุฐู ุงูุชุนุฑููุงุช ุญุณุจ ุงูุญุงุฌุฉ ููุฐู ุงููุฑุญูุฉุ ูุน ุฅุถุงูุฉ ุฃู ุฃููุงุน ุฌุฏูุฏุฉ ุถุฑูุฑูุฉ ูู ูููุงุช ุฃููุงุน ูุฎุตุตุฉ ุถูู `src/types/`.

```typescript
// ุฃูุซูุฉ ุนูู ุงูุชุนุฑููุงุช ุงูุชู ูุฌุจ ุงุณุชุฎุฏุงููุง/ุชูุณูุนูุง ูู common.ts
import { GeneralSettings, TranslationSettings, DisplaySettings, AudioSettings, AdvancedSettings } from "../../types/common";

// ุชุนุฑููุงุช ุฅุถุงููุฉ ูุฏ ุชููู ูุทููุจุฉ ูู ูุฐุง ุงููุธุงู
export interface UserConfig {
  general: GeneralSettings;
  translation: TranslationSettings;
  display: DisplaySettings;
  audio: AudioSettings;
  advanced: AdvancedSettings;
}

export interface SettingsPreset {
  name: string;
  config: UserConfig;
}
```

### ูุงุฆูุฉ ุงูุชุฏููู ุงูุชููู (Technical Checklist):

*   ุชู ุชุตููู ูุชูููุฐ `SettingsPanel` ูุน ุฃูุณุงู ุฅุนุฏุงุฏุงุช ุดุงููุฉ.
*   ุชู ุชุทููุฑ `UserPreferencesStore` ูุญูุธ ูุงุณุชุฑุฌุงุน ุงูุชูุถููุงุช.
*   ุชู ุฏุนู ุงูุฅุนุฏุงุฏุงุช ุงูุงูุชุฑุงุถูุฉ ูุงูุฅุนุฏุงุฏุงุช ุงููุณุจูุฉ.
*   ุชู ุถูุงู ุฎุตูุตูุฉ ูุฃูุงู ุจูุงูุงุช ุงูุฅุนุฏุงุฏุงุช.
*   ุชู ุชูููุฑ ูุงุฌูุฉ ูุณุชุฎุฏู ุจุฏูููุฉ ูุณููุฉ ุงูุงุณุชุฎุฏุงู.

**ุงููุงุชุฌ ุงููุทููุจ:** ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุงูุฅุนุฏุงุฏุงุช ูุงูุชูุถููุงุชุ ูููุฑ ูููุณุชุฎุฏููู ุชุญูููุง ูุงููุงู ูู ุชุฎุตูุต ุงูุฃุฏุงุฉุ ูุน ุถูุงู ุงุณุชูุฑุงุฑูุฉ ูุชูุงูุฑ ุฅุนุฏุงุฏุงุชูู. **ุงูุนุฏุฏ ุงูุฅุฌูุงูู ูููููุงุช ุงูุจุฑูุฌูุฉ ุงููุชููุนุฉ ููุฐู ุงููุญุฏุฉ ูุชุฑุงูุญ ุจูู 10 ุฅูู 15 ููููุง.**

---

> # ูุธุงู ุฅุฏุงุฑุฉ ุงูุฅุนุฏุงุฏุงุช ูุงูุชูุถููุงุช (Settings and Preferences Management System)

## 1. ุงููุตู ุงูุนุงู
ูุถูู ูุฐุง ุงููุธุงู ุชุฎุฒูู ูุฅุฏุงุฑุฉ ุฌููุน ุชูุถููุงุช ุงููุณุชุฎุฏู ุจุดูู ุขูู ููุนุงูุ ุจูุง ูู ุฐูู ุฅุนุฏุงุฏุงุช ุงูุชุฑุฌูุฉุ STTุ ุงูุชุฎุตูุต ุงูุจุตุฑูุ ูููุงุชูุญ API ุงูุฎุงุตุฉ.

## 2. ุงูููููุงุช ุงูุฑุฆูุณูุฉ

| ุงููููู | ุงููุธููุฉ | ุงูุชูููุฉ ุงูููุชุฑุญุฉ |
| :--- | :--- | :--- |
| **ูุงุฌูุฉ ุงูุชุฎุฒูู (Storage Interface)** | ุชูููุฑ ูุงุฌูุฉ ููุญุฏุฉ ููุชูุงุนู ูุน ุขููุงุช ุงูุชุฎุฒูู ุงููุฎุชููุฉ (Chrome Storage, IndexedDB). | TypeScript Interface |
| **ูุฏูุฑ ุงูุฅุนุฏุงุฏุงุช (Settings Manager)** | ูุณุคูู ุนู ุชุญููู ุงูุฅุนุฏุงุฏุงุช ุงูุงูุชุฑุงุถูุฉุ ุฏูุฌูุง ูุน ุชูุถููุงุช ุงููุณุชุฎุฏู ุงููุญููุธุฉุ ูุชุทุจูููุง ุนูู ุงูููููุงุช ุงููุฎุชููุฉ. | Service Class |
| **ูุญุฏุฉ ุชุฎุฒูู ููุงุชูุญ API ุงูุขููุฉ** | ุชุฎุฒูู ููุงุชูุญ API ุงูุญุณุงุณุฉ ุจุดูู ูุดูุฑ ููุญููุ ูุนุฏู ูุดููุง ูู Content Scripts. | Chrome Storage (Local/Sync) ูุน ุงูุชุดููุฑ |
| **ูุญุฏุฉ ุงููุฒุงููุฉ (Sync Unit)** | (ุงุฎุชูุงุฑู) ูุฒุงููุฉ ุฅุนุฏุงุฏุงุช ุงููุณุชุฎุฏู ุนุจุฑ ุงูุฃุฌูุฒุฉ ุงููุฎุชููุฉ ุจุงุณุชุฎุฏุงู Chrome Storage Sync ุฃู ุฎุฏูุฉ ุณุญุงุจูุฉ. | Chrome Storage Sync |

## 3. ุฃููุงุน ุงูุจูุงูุงุช ุงููุฎุฒูุฉ
*   **ุงูุฅุนุฏุงุฏุงุช ุงูุฃุณุงุณูุฉ**: ูุบุฉ ุงูุชุฑุฌูุฉ ุงููุตุฏุฑ ูุงููุฏูุ ุญุงูุฉ ุงูุชุดุบูู/ุงูุฅููุงู.
*   **ุฅุนุฏุงุฏุงุช STT**: ุงููุญุฑู ุงูููุถูุ ูุงุฆูุฉ ุงููููุงุช ุงููุฎุตุตุฉ.
*   **ุฅุนุฏุงุฏุงุช ุงูุชุฑุฌูุฉ**: ุงููุญุฑู ุงูููุถูุ ุฃููููุฉ ุงููุญุฑูุงุชุ ููุงุชูุญ API.
*   **ุงูุชูุถููุงุช ุงูุจุตุฑูุฉ**: ุญุฌู ุงูุฎุทุ ุงููููุ ููุถุน ุงูุชุฑุงูุจ.
*   **ุจูุงูุงุช ุงูุฃุฏุงุก**: ุฅุญุตุงุฆูุงุช ุงูุงุณุชุฎุฏุงูุ ุณุฌู ุงูุฃุฎุทุงุก.

## 4. ูุจุงุฏุฆ ุงูุฃูุงู
*   **ุงูุชุฎุฒูู ุงููุดูุฑ**: ูุฌุจ ุชุฎุฒูู ููุงุชูุญ API ุงูุญุณุงุณุฉ ูู `chrome.storage.local` ูุชุดููุฑูุง ูุจู ุงูุชุฎุฒูู.
*   **ุงููุตูู ุงููููุฏ**: ูุฌุจ ุฃู ุชููู ููุงุชูุญ API ูุงุจูุฉ ูููุตูู ููุท ูู ุฎูุงู `background script` ุฃู ุฎุงุฏู ูุณุงุนุฏ (ุฅู ูุฌุฏ)ุ ูููุณ ูู `content script`.
